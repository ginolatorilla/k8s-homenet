extras:
  manifests:
    - apiVersion: networking.k8s.io/v1
      kind: Ingress
      metadata:
        name: kubernetes-dashboard
        namespace: kubernetes-dashboard # This must be the same as namespace in appset-config.yaml
        annotations:
          nginx.ingress.kubernetes.io/backend-protocol: HTTP
          nginx.ingress.kubernetes.io/force-ssl-redirect: "true"
      spec:
        ingressClassName: nginx
        rules:
          - host: kubernetes-dashboard.apps.homenet
            http:
              paths:
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-web
                      port:
                        name: web
                  path: /
                  pathType: ImplementationSpecific
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-auth
                      port:
                        name: auth
                  path: /api/v1/login
                  pathType: ImplementationSpecific
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-auth
                      port:
                        name: auth
                  path: /api/v1/csrftoken/login
                  pathType: ImplementationSpecific
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-auth
                      port:
                        name: auth
                  path: /api/v1/me
                  pathType: ImplementationSpecific
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-api
                      port:
                        name: api
                  path: /api
                  pathType: ImplementationSpecific
                - backend:
                    service:
                      name: helm-chart-apps-kubernetes-dashboard-api
                      port:
                        name: api
                  path: /metrics
                  pathType: ImplementationSpecific
        tls:
          - hosts:
              - kubernetes-dashboard.apps.homenet

    - apiVersion: v1
      kind: ServiceAccount
      metadata:
        name: admin-user
        namespace: kubernetes-dashboard

    - apiVersion: rbac.authorization.k8s.io/v1
      kind: ClusterRoleBinding
      metadata:
        name: kubernetes-dashboard-admin
      roleRef:
        apiGroup: rbac.authorization.k8s.io
        kind: ClusterRole
        name: cluster-admin
      subjects:
        - kind: ServiceAccount
          name: admin-user
          namespace: kubernetes-dashboard

    - apiVersion: v1
      kind: Secret
      metadata:
        name: admin-user
        namespace: kubernetes-dashboard
        annotations:
          kubernetes.io/service-account.name: "admin-user"
      type: kubernetes.io/service-account-token

kong:
  enabled: false
