---
- name: Launch Virtual Machines
  tags: s1
  hosts: baremetal
  roles:
    - role: hypervisor
      vars:
        node_network_gateway: "10.0.0.1"
        node_network_mask: "255.0.0.0"
    - role: nodes
      vars:
        node_name: k8s-homenet-control-0
        mac_address: "52:7b:31:6a:fc:34"
    - role: nodes
      vars:
        node_name: k8s-homenet-worker-0
        mac_address: "52:7b:31:6a:fc:35"

- name: Setup Kubernetes Control Plane
  tags: s2
  hosts: k8scontrollers
  roles:
    - role: cluster_bootstrap
  become: true

- name: Setup Kubernetes Workers
  tags: s3
  hosts: k8sworkers
