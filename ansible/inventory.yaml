all:
  vars:
    cluster_name: k8s-homenet
    control_plane_hostname: api.k8s.homenet
    control_plane_address: "192.168.100.250" # Virtual IP must be addressable in the home router's subnet
    control_plane_port: "6443"
    ingress_controller_hostname: homenet
    ingress_controller_address: "192.168.100.251" # Virtual IP must be addressable in the home router's subnet
    ingress_controller_port: "443"
    kubernetes_node_cidr: "10.0.0.1/16"
    kubernetes_service_cidr: "172.16.0.0/18"
    kubernetes_pod_cidr: "10.85.0.0/16" # CRIO's default (hardcoded); TODO: implement
    kubeconfig: ~/.kube/config.k8s-homenet

vm_hosts:
  vars:
    vm_cpu: 2
    vm_memory: 2GiB
    vm_disk: 8GiB

  hosts:
    macbook:
      ansible_connection: local
      ansible_become_pass: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        37613838306138356137653363356337353637373534323762376265633339666135613361366438
        6230323561363866393331376164626564383063393433370a623430366638653361636535326539
        34666139303037643366326465316439303132626633363363643164316338316163313033626565
        3730643935313833350a313130336261313835366461396631343663626533626639393963383937
        6538
      bridge_parent_interface: en0
      virtual_machine:
        name: macbook-b0fde45e
        cpu: 8
        memory: 16GiB
        disk: 32GiB

k8s_control_node_leader:
  vars:
    kubernetes_node_type: control
    kubernetes_node_role: leader

  hosts:
    homenet-baremetal-0:
      ansible_ssh_host: homenet-baremetal-0.local
      ansible_become_pass: !vault |
        $ANSIBLE_VAULT;1.1;AES256
        65396332313230613033383663643034636638336533336135366662656561323135663666663635
        6464643735313338663933636561616166636636316632310a363333343463366138376637313861
        32323136303139663832333035666361373462646233376135613230623166653530613139363063
        3033313766306636360a623930343638623265376331323662303361633938373734653531343961
        6636
      kubernetes_node_network_interface: wlp2s0
      kubernetes_remove_taint: true

k8s_control_nodes:
  vars:
    kubernetes_node_type: control
    kubernetes_node_role: follower
  hosts:

k8s_workers:
  vars:
    kubernetes_node_type: worker

  hosts:
    macbook-b0fde45e:
      ansible_ssh_extra_args: "-F ansible/macbook-b0fde45e-ssh.config"
      ansible_ssh_host: lima-macbook-b0fde45e
      kubernetes_node_network_interface: bridge
